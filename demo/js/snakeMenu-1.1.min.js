!function(e,n,t){if(!n)throw new Error("jQuery is not definded. Please add the jQuery file before snakeMenu.js!");t(e,n)}("undefined"!=typeof window?window:this,"undefined"!=typeof jQuery&&jQuery,function(e,n){function t(e,o){this.options=n.extend({},t.getDefaults(),o),this.$element=n(e),this.snakeEvents={hoverSnakeBox:!1,hoverSnakeMenu:!1,snakeBoxOpen:!1,openBoxWhenMouseStopped:!1,noActiveElemHover:!1,hoverMenuItemTemp:null,hoverMenuItemId:"snakeMenuItemId",cssAnimation:!1,animationStart:"webkitAnimationStart mozAnimationStart MSAnimationStart oanimationstart animationstart",animationEnd:"webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend"}}t.Defaults={menuCont:".snakeMenu",menuItem:".snakeMenuItem",menuItemData:"menuitem",boxCont:".snakeBox",boxItem:".snakeBoxItem",boxItemData:"boxitem",noActiveMenuItem:"snakeItemNoActive",cssMenuItemActive:"snm-item-active",destroySnakeRes:767,mouseDelay:250,boxOffsetTop:0,boxOffsetBottom:0,boxOffsetLeft:0,boxOffsetRight:0,animOpen:null,animClose:null},t.getDefaults=function(){return t.Defaults.animOpen=function(){n(this.boxCont).slideDown(300)},t.Defaults.animClose=function(){n(this.boxCont).slideUp(200)},t.Defaults},t.prototype.initialize=function(){this.initSnakeMenuElems(),this.setMenuContentOnHover(),this.checkMousePos(),this.checkAnimation(),this.windowResize()},t.prototype.initSnakeMenuElems=function(){var e=this;n(e.options.boxItem).each(function(){var t=n(this).data(e.options.boxItemData);n(this).addClass(e.options.boxItem.substr(1)+t)}),n(e.options.menuItem).each(function(){var t=n(this).data(e.options.menuItemData);n(this).addClass(e.options.menuItem.substr(1)+t),n(e.options.boxItem+t).length?n(e.options.boxItem+t).text()||n(this).addClass(e.options.noActiveMenuItem):n(this).addClass(e.options.noActiveMenuItem)}),n(e.options.boxCont).hide(),n(e.options.boxItem).hide(),n(e.options.boxItem).first().show()},t.prototype.setMenuContentOnHover=function(){var e=this,t=this.options.menuItem;n(t).each(function(){n(this).mouseenter(function(){e.snakeEvents.hoverMenuItemTemp=n(this).data(e.options.menuItemData)}),n(this).mousemove(function(){e.snakeEvents.hoverMenuItemTemp=n(this).data(e.options.menuItemData)})})},t.prototype.checkAnimation=function(){var e=this;n(e.options.boxCont).on(e.snakeEvents.animationStart,function(){e.snakeEvents.cssAnimation=!0}),n(e.options.boxCont).on(e.snakeEvents.animationEnd,function(){e.snakeEvents.cssAnimation=!1})},t.prototype.checkMousePos=function(){var t=this;n(document).mousemove(function(o){var s="block"===n(t.options.menuCont).css("display");if(n(e).width()>t.options.destroySnakeRes&&s){var i=o.pageX,a=o.pageY,m=n(t.options.menuCont).offset().top,u=n(t.options.menuCont).offset().left,p=m+n(t.options.menuCont).height(),v=u+n(t.options.menuCont).width();i>=u&&i<=v&&a>=m&&a<=p?(t.snakeEvents.hoverSnakeMenu=!0,t.checkMousePousePosition()):(t.snakeEvents.hoverSnakeMenu=!1,t.snakeEvents.hoverMenuItemTemp="false");var h=n(t.options.boxCont).offset().top-t.options.boxOffsetTop,r=n(t.options.boxCont).offset().left-t.options.boxOffsetLeft,c=h+n(t.options.boxCont).height()+t.options.boxOffsetBottom,f=r+n(t.options.boxCont).width()+t.options.boxOffsetRight;t.snakeEvents.hoverSnakeBox=i>=r&&i<=f&&a>=h&&a<=c,t.snakeEvents.cssAnimation||t.menuModalToggle()}})},t.prototype.checkMousePousePosition=function(){var e=this,n=e.snakeEvents.hoverMenuItemTemp;setTimeout(function(){e.checkTempHoverId(n)},e.options.mouseDelay)},t.prototype.checkTempHoverId=function(e){var t=this;e!==t.snakeEvents.hoverMenuItemTemp||t.snakeEvents.cssAnimation||(n(t.options.menuItem+e).hasClass(t.options.noActiveMenuItem)?t.snakeEvents.noActiveElemHover=!0:t.snakeEvents.noActiveElemHover=!1,t.snakeEvents.hoverMenuItemId===e||"false"===e||t.snakeEvents.noActiveElemHover||(t.snakeEvents.hoverMenuItemId=e,n(t.options.boxItem).each(function(){n(this).hide()}),n(t.options.menuItem).each(function(){n(this).removeClass(t.options.cssMenuItemActive)}),n(t.options.boxItem+e).show()),t.snakeEvents.noActiveElemHover||n(t.options.menuItem+e).addClass(t.options.cssMenuItemActive),t.snakeEvents.openBoxWhenMouseStopped=!0,t.menuModalToggle())},t.prototype.menuModalToggle=function(){var e=this;e.snakeEvents.hoverSnakeMenu&&!e.snakeEvents.snakeBoxOpen&&e.snakeEvents.openBoxWhenMouseStopped&&!e.snakeEvents.noActiveElemHover?e.animateMenuOpen():e.snakeEvents.hoverSnakeMenu||e.snakeEvents.hoverSnakeBox||!e.snakeEvents.snakeBoxOpen?e.snakeEvents.noActiveElemHover&&e.snakeEvents.snakeBoxOpen&&e.animateMenuClose():e.animateMenuClose()},t.prototype.animateMenuOpen=function(){var e=this;e.options.animOpen(),e.snakeEvents.snakeBoxOpen=!0},t.prototype.animateMenuClose=function(){var e=this;e.options.animClose(),n(e.options.menuItem).each(function(){n(this).removeClass(e.options.cssMenuItemActive)}),e.snakeEvents.snakeBoxOpen=!1,e.snakeEvents.openBoxWhenMouseStopped=!1},t.prototype.windowResize=function(){var t=this;n(e).resize(function(){t.snakeEvents.snakeBoxOpen&&t.animateMenuClose()})},n.fn.snakeMenu=function(e){return new t(this,"undefined"!==e?e:{}).initialize(),this},n.fn.snakeMenu.Constructor=t});